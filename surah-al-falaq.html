<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سورة الفلق - للاطفال</title>
    <!-- تحميل خط Almarai من جوجل فونت لتصميم أجمل -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&display=swap" rel="stylesheet">
    <!-- تحميل مكتبة Tailwind CSS للتصميم السريع والمتجاوب -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Almarai', sans-serif;
            background-color: #f0f9ff; /* لون سماوي فاتح جداً */
            transition: background-color 0.5s ease;
        }
        .surah-card {
            background-color: #ffffff;
            border-radius: 2rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            width: 500px;
        }
        .aya-image {
            border-top-left-radius: 2rem;
            border-top-right-radius: 2rem;
            width: 100%;
            height: auto;
            object-fit: cover;
        }
        .aya-text {
            font-size: 1.5rem;
            color: #1e40af;
        }
        .nav-button {
            background-color: #3b82f6;
            color: white;
            padding: 1rem;
            border-radius: 9999px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .nav-button:hover {
            transform: scale(1.1);
            background-color: #2563eb;
        }
        .start-button {
            background-color: #10b981;
            color: white;
            font-size: 1.5rem;
            padding: 1.5rem 3rem;
            border-radius: 9999px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .start-button:hover {
            transform: scale(1.05);
            background-color: #059669;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 text-center">

    <div class="surah-card flex flex-col items-center">
        <!-- الصورة الخاصة بالآية -->
        <img id="ayaImage" src="img/S1.png" alt="صورة الآية" class="aya-image">

        <div class="p-8">
            <!-- تم إزالة نص الآية لأنها موجودة على الصورة حسب طلبك -->
            
            <!-- زرار الصوت -->
            <audio id="ayaAudio" src="adu/2.mp3" preload="auto"></audio>
        </div>
    </div>

    <!-- أزرار التنقل -->
    <div class="flex flex-col items-center justify-center mt-8 space-y-4">
        <button id="upButton" class="nav-button opacity-50 cursor-not-allowed">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
            </svg>
        </button>
        <button id="downButton" class="nav-button">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
            </svg>
        </button>
    </div>

    <!-- زر ابدأ جديد لإصلاح مشكلة تشغيل الصوت التلقائي -->
    <div id="startButtonContainer" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50">
        <button id="startButton" class="start-button animate-pulse">
            ابدأ
        </button>
    </div>

    <script>
        // ملفات الصوت والصور
        const assets = [
            { image: "img/S1.png", audio: "adu/2.mp3" },
            { image: "img/S2.png", audio: "adu/3.mp3" },
            { image: "img/S3.png", audio: "adu/4.mp3" },
            { image: "img/S4.png", audio: "adu/5.mp3" },
            { image: "img/S5.png", audio: "adu/6.mp3" }
        ];

        const ayaImageElement = document.getElementById('ayaImage');
        const ayaAudioElement = document.getElementById('ayaAudio');
        const upButton = document.getElementById('upButton');
        const downButton = document.getElementById('downButton');
        const startButton = document.getElementById('startButton');
        const startButtonContainer = document.getElementById('startButtonContainer');

        let currentAyaIndex = 0;

        // دالة تشغيل الآية
        function playCurrentAya() {
            // تحديث صورة الآية
            ayaImageElement.src = assets[currentAyaIndex].image;

            // تشغيل الصوت وتكراره
            ayaAudioElement.src = assets[currentAyaIndex].audio;
            ayaAudioElement.loop = true; // تكرار الصوت
            ayaAudioElement.play();
        }

        // دالة الانتقال للآية التالية
        function nextAya() {
            if (currentAyaIndex < assets.length - 1) {
                // إيقاف الصوت الحالي
                ayaAudioElement.pause();
                ayaAudioElement.currentTime = 0;
                
                // الانتقال للآية اللي بعدها
                currentAyaIndex++;
                playCurrentAya();
            }
            updateButtonState();
        }

        // دالة الانتقال للآية السابقة
        function prevAya() {
            if (currentAyaIndex > 0) {
                // إيقاف الصوت الحالي
                ayaAudioElement.pause();
                ayaAudioElement.currentTime = 0;
                
                // الانتقال للآية اللي قبلها
                currentAyaIndex--;
                playCurrentAya();
            }
            updateButtonState();
        }

        // تحديث حالة الأزرار
        function updateButtonState() {
            // زرار السهم اللي فوق
            if (currentAyaIndex === 0) {
                upButton.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                upButton.classList.remove('opacity-50', 'cursor-not-allowed');
            }
            // زرار السهم اللي تحت
            if (currentAyaIndex === assets.length - 1) {
                downButton.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                downButton.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }
        
        // ربط الأزرار بالوظائف
        downButton.addEventListener('click', nextAya);
        upButton.addEventListener('click', prevAya);

        // تشغيل أول آية عند الضغط على زر "ابدأ"
        startButton.addEventListener('click', () => {
            startButtonContainer.classList.add('hidden');
            playCurrentAya();
        });
    </script>

</body>
</html>
